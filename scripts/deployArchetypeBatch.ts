import { ethers, run } from "hardhat";

const sleep = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));

async function main() {
//   const ArchetypeBatch = await ethers.getContractFactory("ArchetypeBatch");
//   const archetypeBatch = await ArchetypeBatch.deploy();

//   await archetypeBatch.deployed();

//   console.log("Archetype Batch deployed to:", archetypeBatch.address);

const ArchetypeBatch = await ethers.getContractFactory("ArchetypeBatch");
const archetypeBatch = ArchetypeBatch.attach("0xE9241C8114534c5C475e6eFbA31e60F200945856");

const targets = ["0x752813f65AF99d8416a599a40aA6b20df7b4eaE0","0xE525Fa3fd5f956C780cbb425d4301Ba224cCDEE5"];
const values = [0, ethers.utils.parseEther("0.01")];
const datas = ["0x9564e8e400000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000db143f70ec87a1da6c5888eea93b63f3ba9e4df4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","0x9564e8e400000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000db143f70ec87a1da6c5888eea93b63f3ba9e4df4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"]//,"0x9564e8e400000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000db143f70ec87a1da6c5888eea93b63f3ba9e4df4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001003af7dd2f1d70c63779493baa6a2dfe4c3a02deb097224a0620b3df2f24b82c12000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];
  
// Execute batch transactions
await archetypeBatch.executeBatch(targets, values, datas, {
    value: ethers.utils.parseEther("0.01"),
    // gasLimit: 1000000 // set a high gas limit like 1,000,000
});

}

main()
  .then(() => process.exit(0))
  .catch(error => {
    console.error(error);
    process.exit(1);
  });
